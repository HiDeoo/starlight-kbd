<script is:inline>
  window.StarlightKbdProvider = (() => {
    const type = typeof localStorage !== 'undefined' && localStorage.getItem('sl-kbd-type')
    return {
      updateKbdSelects() {
        // TODO(HiDeoo) Test with multiple selects
        for (const select of document.querySelectorAll('starlight-kbd-select select')) {
          const isKnownType = Array.from(select.options).some((option) => option.value === type)
          if (!isKnownType) return
          select.value = type
        }
      },
    }
  })()
</script>
